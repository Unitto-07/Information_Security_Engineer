# 🔐 **PAM (Pluggable Authentication Module)란?**  

**PAM (Pluggable Authentication Module)** 은 **리눅스 및 유닉스 기반 시스템에서 인증을 관리하는 모듈화된 프레임워크**다.  
**여러 인증 방식을 유연하게 적용할 수 있도록 하는 시스템 보안 구성 요소**

---

## 📌 **PAM의 주요 특징**  

1️⃣ **모듈화된 인증 시스템**  
   - 인증 방식(비밀번호, 바이오메트릭, OTP 등)을 플러그인 형태로 관리  
   - 인증 방법을 쉽게 변경하고 확장할 수 있음  

2️⃣ **서비스별 인증 설정 가능**  
   - SSH, sudo, su, 로그인, FTP 등 다양한 서비스의 인증 방식을 개별적으로 조정 가능  

3️⃣ **다단계 인증 지원**  
   - 여러 개의 인증 방법을 조합하여 다단계 인증(MFA) 구현 가능  

4️⃣ **중앙 집중식 인증 관리**  
   - 로컬 사용자 인증뿐만 아니라 LDAP, Kerberos, RADIUS 등을 활용한 중앙 인증 가능  

---

## 🔄 **PAM 동작 방식**  

PAM은 **각각의 서비스(SSH, sudo, 로그인 등)에 대해 미리 정의된 인증 정책을 기반으로 작동**하며, 다음과 같은 4가지 모듈 유형을 사용함.  

| 모듈 유형 | 설명 |
|-----------|------|
| **auth**  | 사용자의 인증 정보 확인 (예: 비밀번호 입력) |
| **account** | 계정의 유효성 검사 (예: 계정 잠금, 만료 여부 확인) |
| **password** | 비밀번호 변경 관리 (예: 복잡도 정책 적용) |
| **session** | 세션 설정 및 정리 (예: 로그인 후 환경 변수 설정) |

---

## 📂 **PAM 설정 파일 (`/etc/pam.d/`)**  

PAM의 설정 파일은 **`/etc/pam.d/`** 디렉터리에 위치하며, 각 서비스마다 개별 설정 파일을 가짐.  
예를 들어, SSH 로그인 시 PAM이 동작하는 설정 파일은 **`/etc/pam.d/sshd`** 임.  

```bash
# 예시: /etc/pam.d/sshd
auth       required   pam_unix.so
account    required   pam_nologin.so
password   required   pam_pwquality.so retry=3
session    required   pam_limits.so
```

💡 **이 설정은 SSH 로그인 시 PAM이 `pam_unix.so` 모듈을 이용해 사용자 인증을 수행하고, 계정 상태를 검사하며, 비밀번호 정책과 세션 제한을 적용하는 방식으로 동작함.**  

---

## ✅ **정리**  
- **PAM은 리눅스/유닉스의 인증을 담당하는 플러그인 기반 프레임워크**  
- **서비스별로 인증 모듈을 설정할 수 있으며, 다단계 인증과 중앙 인증을 지원**  
- **`auth`, `account`, `password`, `session` 4가지 주요 모듈 유형을 사용**  
- **설정 파일은 `/etc/pam.d/` 디렉터리에 있으며, 각 서비스별로 개별 파일을 가짐**  
